(this["webpackJsonpdropship-ui"]=this["webpackJsonpdropship-ui"]||[]).push([[0],{104:function(e,t,n){},121:function(e,t){},174:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(74),i=n.n(o),c=(n(82),n(83),n(11)),s=n.n(c),l=n(19),u=n(5),d=n(6),m=n(9),p=n(7),f=n(8),h=n(20),v=n.n(h),g=n(2),E=n.n(g),b=(n(104),function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.onPress,a=e.disabled;return r.a.createElement("button",{width:"80px",disabled:a,onClick:n},t)}}]),n}(a.PureComponent));b.defaultProps={onPress:function(){}};var j=b,y=n(76),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Pending";return function(t){var n=t.displayName,a=t.name,o=n||a;function i(n){var a=n.isPending,o=Object(y.a)(n,["isPending"]);return a?e:r.a.createElement(t,o)}return i.displayName="withLoading(".concat(o,")"),i}},w=n(22),O=n(18),x=n.n(O),F=n(75),k=n.n(F),C=n(17);x.a.registerTheme({color:{primary:"#03a9f4",secondary:"#795548",while:"#FFFFFF",gray:"#CCCCCC",default:"#999999"},size:{xg:24,lg:18,md:14,sm:12,xs:10},lineHeight:{xg:"60px",lg:"54px",md:"36px",sm:"24px",xs:"18px"},unit:4}),x.a.registerInterface(k.a);var N=C.withStyles,S=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.styles,n=e.children;return r.a.createElement("div",Object(C.css)(t.overlay),r.a.createElement("div",Object(C.css)(t.wrapper),r.a.createElement("div",Object(C.css)(t.container),n)))}}]),n}(a.PureComponent),M=N((function(e){var t=e.color;return{overlay:{position:"fixed",zIndex:9999,top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, .5)"},wrapper:{verticalAlign:"middle"},container:{margin:"40px auto 0px",padding:4*e.unit,backgroundColor:t.white,width:400}}}))(S),D=r.a.createContext({}),I=D.Provider,z=D.Consumer;var _,q=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.styles,a=e.large,o=e.xlarge,i=e.small,c=e.xsmall,s=e.primary,l=e.secondary;return r.a.createElement("span",Object(C.css)(n.default,c&&n.xsmall,i&&n.small,a&&n.large,o&&n.xlarge,l&&n.secondary,s&&n.primary),t)}}]),n}(a.PureComponent),L=N((function(e){var t=e.color,n=e.size;return{default:{color:t.default,fontSize:n.md},xlarge:{fontSize:n.xg},large:{fontSize:n.lg},small:{fontSize:n.sm},xsmall:{fontSize:n.xs},primary:{color:t.primary},secondary:{color:t.secondary}}}))(q);var R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){Object(f.a)(a,t);var n=Object(p.a)(a);function a(e){var t;return Object(u.a)(this,a),(t=n.call(this,e)).state={showModal:!1},t.handleClose=t.handleClose.bind(Object(m.a)(t)),t.handleOpen=t.handleOpen.bind(Object(m.a)(t)),t}return Object(d.a)(a,[{key:"handleOpen",value:function(e,t){this.contentId=e,this.modalProps=t,this.setState({showModal:!0})}},{key:"handleClose",value:function(){this.setState({showModal:!1})}},{key:"render",value:function(){var t=this.props.children,n=this.state.showModal,a=e[this.contentId];return r.a.createElement(I,{value:{openModal:this.handleOpen,closeModal:this.handleClose}},t,n&&a&&r.a.createElement(M,null,r.a.createElement(a,this.modalProps)))}}]),a}(a.PureComponent)}((_={},Object(w.a)(_,"start_modal",(function(e){e.id;var t=e.project,n=e.startF;return r.a.createElement(z,null,(function(e){var a=e.closeModal;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(L,null,t,"\uc744 \uc815\ub9d0\ub85c \uc2dc\uc791 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")),r.a.createElement(j,{primary:!0,onPress:function(){a(),n(t)}},"\uc608"),r.a.createElement(j,{onPress:a},"\ub2eb\uae30"))}))})),Object(w.a)(_,"stop_modal",(function(e){e.id;var t=e.project,n=e.stopF;return r.a.createElement(z,null,(function(e){var a=e.closeModal;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(L,null,t,"\uc744 \uc815\ub9d0\ub85c \uc911\uc9c0 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")),r.a.createElement(j,{primary:!0,onPress:function(){a(),n(t)}},"\uc608"),r.a.createElement(j,{onPress:a},"\ub2eb\uae30"))}))})),Object(w.a)(_,"update_modal",(function(e){e.id;var t=e.project,n=e.updateF;return r.a.createElement(z,null,(function(e){var a=e.closeModal;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(L,null,t,"\uc744 \uc815\ub9d0\ub85c \uc5c5\ub370\uc774\ud2b8 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")),r.a.createElement(j,{primary:!0,onPress:function(){a(),n(t)}},"\uc608"),r.a.createElement(j,{onPress:a},"\ub2eb\uae30"))}))})),_)),U=P(r.a.createElement(j,{disabled:!0},"pending"))(j);function A(e){var t=e.project,n=e.status,a=e.pid,o=e.uptime,i=e.startF,c=e.stopF,s=e.updateF,l=e.isPending;return r.a.createElement("div",{className:"status"},r.a.createElement("span",{className:"item"},t),r.a.createElement("span",{className:"item"},n),"Down"===n?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"item"},"-"),r.a.createElement("span",{className:"item"},"-"),r.a.createElement(R,null,r.a.createElement(z,null,(function(e){var n=e.openModal;return r.a.createElement(U,{isPending:l,className:"item",onPress:function(){return n("start_modal",{project:t,startF:i})}},"start")})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"item"},a),r.a.createElement("span",{className:"item"},o),r.a.createElement(R,null,r.a.createElement(z,null,(function(e){var n=e.openModal;return r.a.createElement(U,{isPending:l,className:"item",onPress:function(){return n("stop_modal",{project:t,stopF:c})}},"stop")})))),r.a.createElement(R,null,r.a.createElement(z,null,(function(e){var n=e.openModal;return r.a.createElement(U,{isPending:l,className:"item",onPress:function(){return n("update_modal",{project:t,updateF:s})}},"update")}))))}A.prototype={project:E.a.string.isRequired,status:E.a.string.isRequired,uptime:E.a.string,pid:E.a.number,startF:E.a.func.isRequired,stopF:E.a.func.isRequired,updateF:E.a.func.isRequired,isPending:E.a.bool},A.defaultProps={isPending:!1};var B=A,J=(n(174),P(r.a.createElement(j,{disabled:!0},"pending"))(j));function W(e){var t=e.refresh,n=e.nowDate,a=e.isPending;return r.a.createElement("div",{className:"info"},r.a.createElement("span",{className:"info-item"},n),r.a.createElement(J,{isPending:a,className:"info-item",onPress:function(){return t()}},r.a.createElement(L,null,"refresh")))}W.prototype={refresh:E.a.func.isRequired,nowDate:E.a.string};var H=W,T=(n(175),function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).getSummary=Object(l.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.doPending(),e.next=3,v.a.get(a.basicUrl+"/summary");case 3:t=e.sent,n=t.data.projects,a.setState({projects:n,isLoading:!1,nowDate:new Date}),a.doIdle();case 7:case"end":return e.stop()}}),e)}))),a.start=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.doPending(),e.next=3,v.a.post(a.basicUrl+"/"+t+"/start").then((function(){a.getSummary()})).catch((function(e){console.error(e)})).finally((function(){return a.doIdle()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.stop=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.doPending(),e.next=3,v.a.post(a.basicUrl+"/"+t+"/stop").then((function(){return a.getSummary()})).catch((function(e){console.error(e)})).finally((function(){return a.doIdle()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.update=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.doPending(),e.next=3,v.a.post(a.basicUrl+"/"+t+"/update").then((function(){return a.getSummary()})).catch((function(e){console.error(e)})).finally((function(){return a.doIdle()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={isLoading:!0,isPending:!1,projects:[],nowDate:new Date},a.getSummary=a.getSummary.bind(Object(m.a)(a)),a.start=a.start.bind(Object(m.a)(a)),a.stop=a.stop.bind(Object(m.a)(a)),a.update=a.update.bind(Object(m.a)(a)),a.basicUrl=window.location.protocol+"//"+window.location.hostname+":3001/dropship/api/v1",a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getSummary()}},{key:"doPending",value:function(){this.setState({isPending:!0})}},{key:"doIdle",value:function(){this.setState({isPending:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.projects,a=t.isLoading,o=t.nowDate,i=t.isPending;return r.a.createElement("section",{className:"container"},r.a.createElement(H,{refresh:this.getSummary,nowDate:o.toLocaleString(),isPending:i}),a?r.a.createElement("div",{className:"loader"},r.a.createElement("span",{className:"loader_text"},"'Loading...'")):r.a.createElement("div",{className:"items"},n.sort((function(e,t){return e.project.localeCompare(t.project)})).map((function(t){return r.a.createElement(B,{key:t.project,project:t.project,status:t.status,uptime:t.uptime,pid:t.pid,startF:e.start,stopF:e.stop,updateF:e.update,isPending:i})}))))}}]),n}(a.Component));var $=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("nav",null,r.a.createElement(T,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},77:function(e,t,n){e.exports=n(176)},82:function(e,t,n){},83:function(e,t,n){}},[[77,1,2]]]);
//# sourceMappingURL=main.90d3b568.chunk.js.map